2025-06-18 16:37:27.897 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-18 16:38:11.263 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-18 16:39:31.111 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-18 16:39:31.410 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-18 16:39:31.418 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-18 16:39:31.420 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-18 16:39:31.420 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-18 16:39:31.429 +05:30 [INF] Applying migration '20250618110917_Init2'.
2025-06-18 16:39:31.459 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "RoleName" = 'Mechanic'
WHERE "Id" = 2;
2025-06-18 16:39:31.460 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "RoleName" = 'User'
WHERE "Id" = 3;
2025-06-18 16:39:31.462 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250618110917_Init2', '9.0.5');
2025-06-18 16:39:50.471 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-18 16:39:50.769 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-18 16:39:50.776 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-18 16:39:50.777 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-18 16:39:50.778 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-18 16:39:50.782 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-06-18 16:39:50.900 +05:30 [INF] User profile is available. Using '/Users/yugendransunder/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-18 16:39:50.990 +05:30 [INF] Now listening on: http://localhost:5192
2025-06-18 16:39:50.991 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-18 16:39:50.991 +05:30 [INF] Hosting environment: Development
2025-06-18 16:39:50.992 +05:30 [INF] Content root path: /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI
2025-06-18 16:46:05.917 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5192/eventhub/negotiate?negotiateVersion=1 - null null
2025-06-18 16:46:05.991 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-18 16:46:06.051 +05:30 [INF] CORS policy execution successful.
2025-06-18 16:46:06.067 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5192/eventhub/negotiate?negotiateVersion=1 - 204 null null 154.2608ms
2025-06-18 16:46:06.078 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5192/eventhub/negotiate?negotiateVersion=1 - null 0
2025-06-18 16:46:06.082 +05:30 [INF] CORS policy execution successful.
2025-06-18 16:46:06.085 +05:30 [INF] Executing endpoint '/eventhub/negotiate'
2025-06-18 16:46:06.094 +05:30 [INF] Executed endpoint '/eventhub/negotiate'
2025-06-18 16:46:06.098 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/eventhub?id=NMBnsVg1skhOre0XxeCbkA - null null
2025-06-18 16:46:06.098 +05:30 [INF] HTTP POST /eventhub/negotiate responded 200 in 11.4853 ms
2025-06-18 16:46:06.099 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5192/eventhub/negotiate?negotiateVersion=1 - 200 316 application/json 21.3013ms
2025-06-18 16:46:06.105 +05:30 [INF] CORS policy execution successful.
2025-06-18 16:46:06.105 +05:30 [INF] Executing endpoint '/eventhub'
2025-06-18 16:58:54.154 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5192/api/v1/Auth/login - application/json 56
2025-06-18 16:58:54.164 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.AuthController.Login (VehicleServiceAPI)'
2025-06-18 16:58:54.189 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(VehicleServiceAPI.Models.DTOs.LoginRequestDTO) on controller VehicleServiceAPI.Controllers.AuthController (VehicleServiceAPI).
2025-06-18 16:58:54.231 +05:30 [INF] Attempting to authenticate user with email: admin@xyz.com
2025-06-18 16:58:54.738 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-18 16:58:54.845 +05:30 [INF] User authenticated successfully: admin@xyz.com
2025-06-18 16:58:54.852 +05:30 [INF] Executing OkObjectResult, writing value of type 'VehicleServiceAPI.Models.DTOs.LoginResponseDTO'.
2025-06-18 16:58:54.861 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.AuthController.Login (VehicleServiceAPI) in 668.0994ms
2025-06-18 16:58:54.862 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.AuthController.Login (VehicleServiceAPI)'
2025-06-18 16:58:54.862 +05:30 [INF] HTTP POST /api/v1/Auth/login responded 200 in 698.4744 ms
2025-06-18 16:58:54.869 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5192/api/v1/Auth/login - 200 null application/json; charset=utf-8 715.3031ms
2025-06-18 16:59:47.221 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5192/api/v1/User - application/json 113
2025-06-18 16:59:47.224 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.UserController.Create (VehicleServiceAPI)'
2025-06-18 16:59:47.229 +05:30 [INF] Route matched with {action = "Create", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[VehicleServiceAPI.Models.DTOs.UserDTO]] Create(VehicleServiceAPI.Models.DTOs.UserCreationRequestDTO) on controller VehicleServiceAPI.Controllers.UserController (VehicleServiceAPI).
2025-06-18 16:59:47.240 +05:30 [INF] Creating a new user with email: user@xyz.com
2025-06-18 16:59:47.325 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."RoleName"
FROM "Roles" AS r
WHERE r."Id" = @__p_0
LIMIT 1
2025-06-18 16:59:47.417 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?', @p1='?' (DbType = Boolean), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "IsDeleted", "Name", "PasswordHash", "Phone", "RoleId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-06-18 16:59:47.442 +05:30 [INF] User created successfully with ID: 4
2025-06-18 16:59:47.443 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'VehicleServiceAPI.Models.DTOs.UserDTO'.
2025-06-18 16:59:47.465 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.UserController.Create (VehicleServiceAPI) in 235.9288ms
2025-06-18 16:59:47.465 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.UserController.Create (VehicleServiceAPI)'
2025-06-18 16:59:47.465 +05:30 [INF] HTTP POST /api/v1/User responded 201 in 241.6074 ms
2025-06-18 16:59:47.466 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5192/api/v1/User - 201 null application/json; charset=utf-8 245.0091ms
2025-06-18 16:59:58.989 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5192/api/v1/Auth/login - application/json 55
2025-06-18 16:59:58.991 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.AuthController.Login (VehicleServiceAPI)'
2025-06-18 16:59:58.992 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(VehicleServiceAPI.Models.DTOs.LoginRequestDTO) on controller VehicleServiceAPI.Controllers.AuthController (VehicleServiceAPI).
2025-06-18 16:59:58.993 +05:30 [INF] Attempting to authenticate user with email: user@xyz.com
2025-06-18 16:59:59.001 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-18 16:59:59.003 +05:30 [INF] User authenticated successfully: user@xyz.com
2025-06-18 16:59:59.003 +05:30 [INF] Executing OkObjectResult, writing value of type 'VehicleServiceAPI.Models.DTOs.LoginResponseDTO'.
2025-06-18 16:59:59.003 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.AuthController.Login (VehicleServiceAPI) in 11.453ms
2025-06-18 16:59:59.003 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.AuthController.Login (VehicleServiceAPI)'
2025-06-18 16:59:59.003 +05:30 [INF] HTTP POST /api/v1/Auth/login responded 200 in 12.1717 ms
2025-06-18 16:59:59.004 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5192/api/v1/Auth/login - 200 null application/json; charset=utf-8 14.5426ms
2025-06-18 17:00:39.614 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5192/api/v1/ServiceSlot - application/json 92
2025-06-18 17:00:39.671 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.CreateServiceSlot (VehicleServiceAPI)'
2025-06-18 17:00:39.675 +05:30 [INF] Route matched with {action = "CreateServiceSlot", controller = "ServiceSlot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[VehicleServiceAPI.Models.DTOs.ServiceSlotDTO]] CreateServiceSlot(VehicleServiceAPI.Models.DTOs.CreateServiceSlotDTO) on controller VehicleServiceAPI.Controllers.ServiceSlotController (VehicleServiceAPI).
2025-06-18 17:00:39.699 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:00:39.731 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ServiceSlots" ("IsDeleted", "MechanicID", "SlotDateTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-06-18 17:00:39.735 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:00:39.736 +05:30 [INF] Service slot created successfully with id 7
2025-06-18 17:00:39.746 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'VehicleServiceAPI.Models.DTOs.ServiceSlotDTO'.
2025-06-18 17:00:39.749 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.ServiceSlotController.CreateServiceSlot (VehicleServiceAPI) in 73.7909ms
2025-06-18 17:00:39.750 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.CreateServiceSlot (VehicleServiceAPI)'
2025-06-18 17:00:39.750 +05:30 [INF] HTTP POST /api/v1/ServiceSlot responded 201 in 78.8411 ms
2025-06-18 17:00:39.750 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5192/api/v1/ServiceSlot - 201 null application/json; charset=utf-8 136.0095ms
2025-06-18 17:01:04.610 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5192/api/v1/ServiceSlot - application/json 92
2025-06-18 17:01:04.613 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.CreateServiceSlot (VehicleServiceAPI)'
2025-06-18 17:01:04.614 +05:30 [INF] Route matched with {action = "CreateServiceSlot", controller = "ServiceSlot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[VehicleServiceAPI.Models.DTOs.ServiceSlotDTO]] CreateServiceSlot(VehicleServiceAPI.Models.DTOs.CreateServiceSlotDTO) on controller VehicleServiceAPI.Controllers.ServiceSlotController (VehicleServiceAPI).
2025-06-18 17:01:04.618 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:01:04.622 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ServiceSlots" ("IsDeleted", "MechanicID", "SlotDateTime", "Status")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-06-18 17:01:04.625 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:01:04.625 +05:30 [INF] Service slot created successfully with id 8
2025-06-18 17:01:04.626 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'VehicleServiceAPI.Models.DTOs.ServiceSlotDTO'.
2025-06-18 17:01:04.626 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.ServiceSlotController.CreateServiceSlot (VehicleServiceAPI) in 12.6254ms
2025-06-18 17:01:04.627 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.CreateServiceSlot (VehicleServiceAPI)'
2025-06-18 17:01:04.627 +05:30 [INF] HTTP POST /api/v1/ServiceSlot responded 201 in 13.3737 ms
2025-06-18 17:01:04.627 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5192/api/v1/ServiceSlot - 201 null application/json; charset=utf-8 16.7823ms
2025-06-18 17:02:15.257 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/available - null null
2025-06-18 17:02:15.261 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetAvailableSlots (VehicleServiceAPI)'
2025-06-18 17:02:15.265 +05:30 [INF] Route matched with {action = "GetAvailableSlots", controller = "ServiceSlot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.ServiceSlotDTO]]] GetAvailableSlots() on controller VehicleServiceAPI.Controllers.ServiceSlotController (VehicleServiceAPI).
2025-06-18 17:02:15.269 +05:30 [INF] Getting available service slots
2025-06-18 17:02:15.291 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "ServiceSlots" AS s
INNER JOIN "Users" AS u ON s."MechanicID" = u."Id"
WHERE s."Status" = 'available' AND NOT (s."IsDeleted")
2025-06-18 17:02:15.298 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:02:15.319 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'VehicleServiceAPI.Context.VehicleServiceDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-18 17:02:15.321 +05:30 [WRN] No available service slots found
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at VehicleServiceAPI.Repositories.UserRepository.GetByIdAsync(Int32 id) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Repositories/UserRepository.cs:line 14
   at VehicleServiceAPI.Services.ServiceSlotService.MapServiceSlotToDto(ServiceSlot serviceSlot) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/ServiceSlotServices.cs:line 107
   at VehicleServiceAPI.Services.ServiceSlotService.GetAvailableSlotsAsync() in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/ServiceSlotServices.cs:line 88
   at VehicleServiceAPI.Controllers.ServiceSlotController.GetAvailableSlots() in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Controllers/ServiceSlotController.cs:line 190
2025-06-18 17:02:15.326 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-18 17:02:15.331 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.ServiceSlotController.GetAvailableSlots (VehicleServiceAPI) in 66.5564ms
2025-06-18 17:02:15.332 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetAvailableSlots (VehicleServiceAPI)'
2025-06-18 17:02:15.332 +05:30 [INF] HTTP GET /api/v1/ServiceSlot/available responded 404 in 70.9957 ms
2025-06-18 17:02:15.332 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/available - 404 null application/json; charset=utf-8 74.7514ms
2025-06-18 17:03:14.712 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/available - null null
2025-06-18 17:03:14.714 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetAvailableSlots (VehicleServiceAPI)'
2025-06-18 17:03:14.715 +05:30 [INF] Route matched with {action = "GetAvailableSlots", controller = "ServiceSlot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.ServiceSlotDTO]]] GetAvailableSlots() on controller VehicleServiceAPI.Controllers.ServiceSlotController (VehicleServiceAPI).
2025-06-18 17:03:14.715 +05:30 [INF] Getting available service slots
2025-06-18 17:03:14.718 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "ServiceSlots" AS s
INNER JOIN "Users" AS u ON s."MechanicID" = u."Id"
WHERE s."Status" = 'available' AND NOT (s."IsDeleted")
2025-06-18 17:03:14.719 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'VehicleServiceAPI.Context.VehicleServiceDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-18 17:03:14.719 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:03:14.720 +05:30 [WRN] No available service slots found
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at VehicleServiceAPI.Repositories.UserRepository.GetByIdAsync(Int32 id) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Repositories/UserRepository.cs:line 14
   at VehicleServiceAPI.Services.ServiceSlotService.MapServiceSlotToDto(ServiceSlot serviceSlot) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/ServiceSlotServices.cs:line 107
   at VehicleServiceAPI.Services.ServiceSlotService.GetAvailableSlotsAsync() in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/ServiceSlotServices.cs:line 88
   at VehicleServiceAPI.Controllers.ServiceSlotController.GetAvailableSlots() in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Controllers/ServiceSlotController.cs:line 190
2025-06-18 17:03:14.722 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-18 17:03:14.722 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.ServiceSlotController.GetAvailableSlots (VehicleServiceAPI) in 7.3569ms
2025-06-18 17:03:14.722 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetAvailableSlots (VehicleServiceAPI)'
2025-06-18 17:03:14.722 +05:30 [INF] HTTP GET /api/v1/ServiceSlot/available responded 404 in 8.1778 ms
2025-06-18 17:03:14.723 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/available - 404 null application/json; charset=utf-8 10.3137ms
2025-06-18 17:03:35.240 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot - null null
2025-06-18 17:03:35.241 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetAllServiceSlots (VehicleServiceAPI)'
2025-06-18 17:03:35.245 +05:30 [INF] Route matched with {action = "GetAllServiceSlots", controller = "ServiceSlot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.ServiceSlotDTO]]] GetAllServiceSlots() on controller VehicleServiceAPI.Controllers.ServiceSlotController (VehicleServiceAPI).
2025-06-18 17:03:35.247 +05:30 [INF] Getting all service slots
2025-06-18 17:03:35.258 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "ServiceSlots" AS s
INNER JOIN "Users" AS u ON s."MechanicID" = u."Id"
2025-06-18 17:03:35.260 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'VehicleServiceAPI.Context.VehicleServiceDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-18 17:03:35.260 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:03:35.262 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:03:35.263 +05:30 [WRN] GetAllServiceSlots: No slots found
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at VehicleServiceAPI.Repositories.UserRepository.GetByIdAsync(Int32 id) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Repositories/UserRepository.cs:line 14
   at VehicleServiceAPI.Services.ServiceSlotService.MapServiceSlotToDto(ServiceSlot serviceSlot) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/ServiceSlotServices.cs:line 107
   at VehicleServiceAPI.Services.ServiceSlotService.GetAllServiceSlotsAsync() in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/ServiceSlotServices.cs:line 39
   at VehicleServiceAPI.Controllers.ServiceSlotController.GetAllServiceSlots() in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Controllers/ServiceSlotController.cs:line 38
2025-06-18 17:03:35.265 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-18 17:03:35.265 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.ServiceSlotController.GetAllServiceSlots (VehicleServiceAPI) in 20.0501ms
2025-06-18 17:03:35.265 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetAllServiceSlots (VehicleServiceAPI)'
2025-06-18 17:03:35.266 +05:30 [INF] HTTP GET /api/v1/ServiceSlot responded 404 in 24.0946 ms
2025-06-18 17:03:35.266 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot - 404 null application/json; charset=utf-8 25.6567ms
2025-06-18 17:03:48.380 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/7 - null null
2025-06-18 17:03:48.381 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetServiceSlotById (VehicleServiceAPI)'
2025-06-18 17:03:48.384 +05:30 [INF] Route matched with {action = "GetServiceSlotById", controller = "ServiceSlot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[VehicleServiceAPI.Models.DTOs.ServiceSlotDTO]] GetServiceSlotById(Int32) on controller VehicleServiceAPI.Controllers.ServiceSlotController (VehicleServiceAPI).
2025-06-18 17:03:48.387 +05:30 [INF] Getting service slot 7
2025-06-18 17:03:48.398 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "ServiceSlots" AS s
INNER JOIN "Users" AS u ON s."MechanicID" = u."Id"
WHERE s."Id" = @__id_0
LIMIT 1
2025-06-18 17:03:48.399 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:03:48.399 +05:30 [INF] Executing OkObjectResult, writing value of type 'VehicleServiceAPI.Models.DTOs.ServiceSlotDTO'.
2025-06-18 17:03:48.400 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.ServiceSlotController.GetServiceSlotById (VehicleServiceAPI) in 14.9465ms
2025-06-18 17:03:48.400 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetServiceSlotById (VehicleServiceAPI)'
2025-06-18 17:03:48.400 +05:30 [INF] HTTP GET /api/v1/ServiceSlot/7 responded 200 in 19.2259 ms
2025-06-18 17:03:48.400 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/7 - 200 null application/json; charset=utf-8 20.4546ms
2025-06-18 17:04:10.383 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/mechanic/1 - null null
2025-06-18 17:04:10.384 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetSlotsByMechanicId (VehicleServiceAPI)'
2025-06-18 17:04:10.387 +05:30 [INF] Route matched with {action = "GetSlotsByMechanicId", controller = "ServiceSlot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.ServiceSlotDTO]]] GetSlotsByMechanicId(Int32) on controller VehicleServiceAPI.Controllers.ServiceSlotController (VehicleServiceAPI).
2025-06-18 17:04:10.388 +05:30 [INF] Getting service slots for mechanic 1
2025-06-18 17:04:10.473 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__mechanicId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status"
FROM "ServiceSlots" AS s
WHERE s."MechanicID" = @__mechanicId_0 AND NOT (s."IsDeleted")
2025-06-18 17:04:10.474 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'VehicleServiceAPI.Context.VehicleServiceDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-18 17:04:10.475 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'VehicleServiceAPI.Context.VehicleServiceDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-18 17:04:10.476 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:04:10.477 +05:30 [WRN] Service slots not found for mechanic 1
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at VehicleServiceAPI.Repositories.UserRepository.GetByIdAsync(Int32 id) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Repositories/UserRepository.cs:line 14
   at VehicleServiceAPI.Services.ServiceSlotService.MapServiceSlotToDto(ServiceSlot serviceSlot) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/ServiceSlotServices.cs:line 107
   at VehicleServiceAPI.Services.ServiceSlotService.GetSlotsByMechanicIdAsync(Int32 mechanicId) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/ServiceSlotServices.cs:line 98
   at VehicleServiceAPI.Controllers.ServiceSlotController.GetSlotsByMechanicId(Int32 mechanicId) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Controllers/ServiceSlotController.cs:line 216
2025-06-18 17:04:10.478 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-18 17:04:10.478 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.ServiceSlotController.GetSlotsByMechanicId (VehicleServiceAPI) in 91.0631ms
2025-06-18 17:04:10.478 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetSlotsByMechanicId (VehicleServiceAPI)'
2025-06-18 17:04:10.478 +05:30 [INF] HTTP GET /api/v1/ServiceSlot/mechanic/1 responded 404 in 94.6215 ms
2025-06-18 17:04:10.478 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/mechanic/1 - 404 null application/json; charset=utf-8 95.6096ms
2025-06-18 17:07:56.616 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5192/api/v1/Vehicle - application/json 92
2025-06-18 17:07:56.618 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.VehicleController.CreateVehicle (VehicleServiceAPI)'
2025-06-18 17:07:56.621 +05:30 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicle"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[VehicleServiceAPI.Models.DTOs.VehicleDTO]] CreateVehicle(VehicleServiceAPI.Models.DTOs.CreateVehicleDTO) on controller VehicleServiceAPI.Controllers.VehicleController (VehicleServiceAPI).
2025-06-18 17:07:56.629 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:07:56.655 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?', @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Vehicles" ("IsDeleted", "Make", "Model", "OwnerId", "RegistrationNumber", "Year")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-06-18 17:07:56.659 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:07:56.661 +05:30 [INF] User 4 created vehicle 2
2025-06-18 17:07:56.661 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'VehicleServiceAPI.Models.DTOs.VehicleDTO'.
2025-06-18 17:07:56.664 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.VehicleController.CreateVehicle (VehicleServiceAPI) in 42.8103ms
2025-06-18 17:07:56.664 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.VehicleController.CreateVehicle (VehicleServiceAPI)'
2025-06-18 17:07:56.664 +05:30 [INF] HTTP POST /api/v1/Vehicle responded 201 in 46.3105 ms
2025-06-18 17:07:56.665 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5192/api/v1/Vehicle - 201 null application/json; charset=utf-8 48.245ms
2025-06-18 17:08:32.755 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5192/api/v1/Vehicle - application/json 92
2025-06-18 17:08:32.756 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.VehicleController.CreateVehicle (VehicleServiceAPI)'
2025-06-18 17:08:32.756 +05:30 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicle"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[VehicleServiceAPI.Models.DTOs.VehicleDTO]] CreateVehicle(VehicleServiceAPI.Models.DTOs.CreateVehicleDTO) on controller VehicleServiceAPI.Controllers.VehicleController (VehicleServiceAPI).
2025-06-18 17:08:32.759 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:08:32.762 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?', @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Vehicles" ("IsDeleted", "Make", "Model", "OwnerId", "RegistrationNumber", "Year")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-06-18 17:08:32.763 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:08:32.764 +05:30 [INF] User 4 created vehicle 3
2025-06-18 17:08:32.764 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'VehicleServiceAPI.Models.DTOs.VehicleDTO'.
2025-06-18 17:08:32.764 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.VehicleController.CreateVehicle (VehicleServiceAPI) in 7.4843ms
2025-06-18 17:08:32.764 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.VehicleController.CreateVehicle (VehicleServiceAPI)'
2025-06-18 17:08:32.764 +05:30 [INF] HTTP POST /api/v1/Vehicle responded 201 in 8.0769 ms
2025-06-18 17:08:32.765 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5192/api/v1/Vehicle - 201 null application/json; charset=utf-8 9.5658ms
2025-06-18 17:09:19.692 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Vehicle/user - null null
2025-06-18 17:09:19.694 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.VehicleController.GetAllVehiclesByUser (VehicleServiceAPI)'
2025-06-18 17:09:19.698 +05:30 [INF] Route matched with {action = "GetAllVehiclesByUser", controller = "Vehicle"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.VehicleDTO]]] GetAllVehiclesByUser() on controller VehicleServiceAPI.Controllers.VehicleController (VehicleServiceAPI).
2025-06-18 17:09:19.702 +05:30 [INF] Getting vehicles for current user
2025-06-18 17:09:19.730 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "Vehicles" AS v
INNER JOIN "Users" AS u ON v."OwnerId" = u."Id"
WHERE v."OwnerId" = @__userId_0
2025-06-18 17:09:19.734 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'VehicleServiceAPI.Context.VehicleServiceDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-18 17:09:19.735 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:09:19.736 +05:30 [WRN] Invalid operation in GetAllVehiclesByUser
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at VehicleServiceAPI.Repositories.UserRepository.GetByIdAsync(Int32 id) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Repositories/UserRepository.cs:line 14
   at VehicleServiceAPI.Services.VehicleService.MapVehicleToDto(Vehicle vehicle) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/VehicleServices.cs:line 100
   at VehicleServiceAPI.Services.VehicleService.GetVehicleByUserAsync(Int32 userId) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/VehicleServices.cs:line 32
   at VehicleServiceAPI.Controllers.VehicleController.GetAllVehiclesByUser() in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Controllers/VehicleController.cs:line 70
2025-06-18 17:09:19.738 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-18 17:09:19.738 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.VehicleController.GetAllVehiclesByUser (VehicleServiceAPI) in 39.1705ms
2025-06-18 17:09:19.738 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.VehicleController.GetAllVehiclesByUser (VehicleServiceAPI)'
2025-06-18 17:09:19.738 +05:30 [INF] HTTP GET /api/v1/Vehicle/user responded 404 in 43.4966 ms
2025-06-18 17:09:19.738 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Vehicle/user - 404 null application/json; charset=utf-8 45.6786ms
2025-06-18 17:09:48.104 +05:30 [INF] Application is shutting down...
2025-06-18 17:09:48.105 +05:30 [INF] Connection id "0HNDEB62BEIM5", Request id "0HNDEB62BEIM5:00000001": the application aborted the connection.
2025-06-18 17:09:48.113 +05:30 [INF] Executed endpoint '/eventhub'
2025-06-18 17:09:48.114 +05:30 [INF] HTTP GET /eventhub responded 101 in 1422055.0712 ms
2025-06-18 17:09:48.114 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/eventhub?id=NMBnsVg1skhOre0XxeCbkA - 101 null null 1422062.6981ms
2025-06-18 17:10:00.298 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-18 17:10:00.656 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-18 17:10:00.665 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-18 17:10:00.666 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-18 17:10:00.666 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-18 17:10:00.671 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-06-18 17:10:00.766 +05:30 [INF] User profile is available. Using '/Users/yugendransunder/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-18 17:10:00.829 +05:30 [INF] Now listening on: http://localhost:5192
2025-06-18 17:10:00.831 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-18 17:10:00.831 +05:30 [INF] Hosting environment: Development
2025-06-18 17:10:00.831 +05:30 [INF] Content root path: /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI
2025-06-18 17:10:04.572 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Vehicle/user - null null
2025-06-18 17:10:04.619 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-18 17:10:04.728 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.VehicleController.GetAllVehiclesByUser (VehicleServiceAPI)'
2025-06-18 17:10:04.741 +05:30 [INF] Route matched with {action = "GetAllVehiclesByUser", controller = "Vehicle"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.VehicleDTO]]] GetAllVehiclesByUser() on controller VehicleServiceAPI.Controllers.VehicleController (VehicleServiceAPI).
2025-06-18 17:10:04.745 +05:30 [INF] Getting vehicles for current user
2025-06-18 17:10:05.150 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "Vehicles" AS v
INNER JOIN "Users" AS u ON v."OwnerId" = u."Id"
WHERE v."OwnerId" = @__userId_0
2025-06-18 17:10:05.252 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:10:05.268 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'VehicleServiceAPI.Context.VehicleServiceDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-18 17:10:05.269 +05:30 [WRN] Invalid operation in GetAllVehiclesByUser
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at VehicleServiceAPI.Repositories.UserRepository.GetByIdAsync(Int32 id) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Repositories/UserRepository.cs:line 14
   at VehicleServiceAPI.Services.VehicleService.MapVehicleToDto(Vehicle vehicle) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/VehicleServices.cs:line 100
   at VehicleServiceAPI.Services.VehicleService.GetVehicleByUserAsync(Int32 userId) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/VehicleServices.cs:line 32
   at VehicleServiceAPI.Controllers.VehicleController.GetAllVehiclesByUser() in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Controllers/VehicleController.cs:line 70
2025-06-18 17:10:05.280 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-18 17:10:05.303 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.VehicleController.GetAllVehiclesByUser (VehicleServiceAPI) in 558.3052ms
2025-06-18 17:10:05.308 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.VehicleController.GetAllVehiclesByUser (VehicleServiceAPI)'
2025-06-18 17:10:05.310 +05:30 [INF] HTTP GET /api/v1/Vehicle/user responded 404 in 582.7616 ms
2025-06-18 17:10:05.319 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Vehicle/user - 404 null application/json; charset=utf-8 749.6321ms
2025-06-18 17:12:26.762 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5192/api/v1/Booking - application/json 35
2025-06-18 17:12:26.771 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.BookingController.CreateBooking (VehicleServiceAPI)'
2025-06-18 17:12:26.780 +05:30 [INF] Route matched with {action = "CreateBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[VehicleServiceAPI.Models.DTOs.BookingDTO]] CreateBooking(VehicleServiceAPI.Models.DTOs.CreateBookingDTO) on controller VehicleServiceAPI.Controllers.BookingController (VehicleServiceAPI).
2025-06-18 17:12:26.805 +05:30 [INF] Creating booking for user ID 4.
2025-06-18 17:12:26.875 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:12:26.895 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "ServiceSlots" AS s
INNER JOIN "Users" AS u ON s."MechanicID" = u."Id"
WHERE s."Id" = @__id_0
LIMIT 1
2025-06-18 17:12:26.930 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "Vehicles" AS v
INNER JOIN "Users" AS u ON v."OwnerId" = u."Id"
WHERE v."Id" = @__id_0
LIMIT 1
2025-06-18 17:12:27.031 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "ServiceSlots" SET "IsDeleted" = @p0, "MechanicID" = @p1, "SlotDateTime" = @p2, "Status" = @p3
WHERE "Id" = @p4;
2025-06-18 17:12:27.084 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Bookings" ("IsDeleted", "SlotId", "Status", "UserId", "VehicleId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-06-18 17:12:27.100 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:12:27.102 +05:30 [INF] Booking created with ID 2 for user ID 4.
2025-06-18 17:12:27.103 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'VehicleServiceAPI.Models.DTOs.BookingDTO'.
2025-06-18 17:12:27.129 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.BookingController.CreateBooking (VehicleServiceAPI) in 348.5861ms
2025-06-18 17:12:27.130 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.BookingController.CreateBooking (VehicleServiceAPI)'
2025-06-18 17:12:27.130 +05:30 [INF] HTTP POST /api/v1/Booking responded 201 in 359.0014 ms
2025-06-18 17:12:27.130 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5192/api/v1/Booking - 201 null application/json; charset=utf-8 367.8164ms
2025-06-18 17:14:10.386 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5192/api/v1/Image - multipart/form-data; boundary=--------------------------223613548362133735493157 18149
2025-06-18 17:14:10.390 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.ImageController.UploadImage (VehicleServiceAPI)'
2025-06-18 17:14:10.396 +05:30 [INF] Route matched with {action = "UploadImage", controller = "Image"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(VehicleServiceAPI.Models.DTOs.CreateImageDTO) on controller VehicleServiceAPI.Controllers.ImageController (VehicleServiceAPI).
2025-06-18 17:14:10.418 +05:30 [INF] Saving uploaded file to /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/wwwroot/uploads/ac77465c-ee89-478a-9a5b-53deb48d58e4.png
2025-06-18 17:14:10.420 +05:30 [INF] Saving image metadata to database.
2025-06-18 17:14:10.446 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."IsDeleted", b."SlotId", b."Status", b."UserId", b."VehicleId", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year"
FROM "Bookings" AS b
INNER JOIN "Users" AS u ON b."UserId" = u."Id"
INNER JOIN "ServiceSlots" AS s ON b."SlotId" = s."Id"
INNER JOIN "Vehicles" AS v ON b."VehicleId" = v."Id"
WHERE b."Id" = @__id_0
LIMIT 1
2025-06-18 17:14:10.450 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "Vehicles" AS v
INNER JOIN "Users" AS u ON v."OwnerId" = u."Id"
WHERE v."Id" = @__id_0
LIMIT 1
2025-06-18 17:14:10.473 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Images" ("BookingId", "FilePath", "IsDeleted", "VehicleId")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-06-18 17:14:10.478 +05:30 [INF] Image uploaded successfully with ID 3
2025-06-18 17:14:10.479 +05:30 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType2`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-18 17:14:10.482 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.ImageController.UploadImage (VehicleServiceAPI) in 86.216ms
2025-06-18 17:14:10.482 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.ImageController.UploadImage (VehicleServiceAPI)'
2025-06-18 17:14:10.483 +05:30 [INF] HTTP POST /api/v1/Image responded 201 in 92.3013 ms
2025-06-18 17:14:10.484 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5192/api/v1/Image - 201 null application/json; charset=utf-8 97.9828ms
2025-06-18 17:14:42.918 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Image/file/3 - null null
2025-06-18 17:14:42.920 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.ImageController.GetImageFile (VehicleServiceAPI)'
2025-06-18 17:14:42.923 +05:30 [INF] Route matched with {action = "GetImageFile", controller = "Image"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImageFile(Int32) on controller VehicleServiceAPI.Controllers.ImageController (VehicleServiceAPI).
2025-06-18 17:14:42.926 +05:30 [INF] Getting file for image with ID 3
2025-06-18 17:14:42.941 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."BookingId", i."FilePath", i."IsDeleted", i."VehicleId", b."Id", b."IsDeleted", b."SlotId", b."Status", b."UserId", b."VehicleId", v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year"
FROM "Images" AS i
INNER JOIN "Bookings" AS b ON i."BookingId" = b."Id"
INNER JOIN "Vehicles" AS v ON i."VehicleId" = v."Id"
WHERE i."Id" = @__id_0
LIMIT 1
2025-06-18 17:14:42.944 +05:30 [INF] Returning file a45a47ce-f0a3-4122-9de2-8aa91056251e.png for image ID 3 with content type image/png
2025-06-18 17:14:42.945 +05:30 [INF] Executing PhysicalFileResult, sending file '/Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/wwwroot/uploads/a45a47ce-f0a3-4122-9de2-8aa91056251e.png' with download name '' ...
2025-06-18 17:14:42.953 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.ImageController.GetImageFile (VehicleServiceAPI) in 29.3388ms
2025-06-18 17:14:42.953 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.ImageController.GetImageFile (VehicleServiceAPI)'
2025-06-18 17:14:42.953 +05:30 [INF] HTTP GET /api/v1/Image/file/3 responded 200 in 33.2725 ms
2025-06-18 17:14:42.954 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Image/file/3 - 200 17724 image/png 35.0991ms
2025-06-18 17:15:43.151 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Booking/user - null null
2025-06-18 17:15:43.152 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.BookingController.GetBookingsByCurrentUser (VehicleServiceAPI)'
2025-06-18 17:15:43.155 +05:30 [INF] Route matched with {action = "GetBookingsByCurrentUser", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.BookingDTO]]] GetBookingsByCurrentUser() on controller VehicleServiceAPI.Controllers.BookingController (VehicleServiceAPI).
2025-06-18 17:15:43.157 +05:30 [INF] Getting bookings for user ID 4.
2025-06-18 17:15:43.199 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."IsDeleted", b."SlotId", b."Status", b."UserId", b."VehicleId", s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "Bookings" AS b
INNER JOIN "ServiceSlots" AS s ON b."SlotId" = s."Id"
INNER JOIN "Vehicles" AS v ON b."VehicleId" = v."Id"
INNER JOIN "Users" AS u ON b."UserId" = u."Id"
WHERE b."UserId" = @__userId_0
2025-06-18 17:15:43.203 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:15:43.204 +05:30 [INF] Retrieved 1 bookings for user ID 4.
2025-06-18 17:15:43.204 +05:30 [INF] Executing OkObjectResult, writing value of type 'VehicleServiceAPI.Models.DTOs.BookingDTO[]'.
2025-06-18 17:15:43.207 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.BookingController.GetBookingsByCurrentUser (VehicleServiceAPI) in 51.8908ms
2025-06-18 17:15:43.208 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.BookingController.GetBookingsByCurrentUser (VehicleServiceAPI)'
2025-06-18 17:15:43.208 +05:30 [INF] HTTP GET /api/v1/Booking/user responded 200 in 55.2786 ms
2025-06-18 17:15:43.208 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Booking/user - 200 null application/json; charset=utf-8 56.5841ms
2025-06-18 17:16:38.478 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5192/api/v1/Auth/login - application/json 59
2025-06-18 17:16:38.479 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.AuthController.Login (VehicleServiceAPI)'
2025-06-18 17:16:38.484 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(VehicleServiceAPI.Models.DTOs.LoginRequestDTO) on controller VehicleServiceAPI.Controllers.AuthController (VehicleServiceAPI).
2025-06-18 17:16:38.491 +05:30 [INF] Attempting to authenticate user with email: mechanic@xyz.com
2025-06-18 17:16:38.515 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-18 17:16:38.528 +05:30 [INF] User authenticated successfully: mechanic@xyz.com
2025-06-18 17:16:38.529 +05:30 [INF] Executing OkObjectResult, writing value of type 'VehicleServiceAPI.Models.DTOs.LoginResponseDTO'.
2025-06-18 17:16:38.530 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.AuthController.Login (VehicleServiceAPI) in 45.4734ms
2025-06-18 17:16:38.530 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.AuthController.Login (VehicleServiceAPI)'
2025-06-18 17:16:38.531 +05:30 [INF] HTTP POST /api/v1/Auth/login responded 200 in 51.2083 ms
2025-06-18 17:16:38.531 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5192/api/v1/Auth/login - 200 null application/json; charset=utf-8 53.057ms
2025-06-18 17:17:08.950 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5192/api/v1/Booking/2 - application/json 28
2025-06-18 17:17:08.952 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.BookingController.UpdateBooking (VehicleServiceAPI)'
2025-06-18 17:17:08.956 +05:30 [INF] Route matched with {action = "UpdateBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[VehicleServiceAPI.Models.DTOs.BookingDTO]] UpdateBooking(Int32, VehicleServiceAPI.Models.DTOs.UpdateBookingDTO) on controller VehicleServiceAPI.Controllers.BookingController (VehicleServiceAPI).
2025-06-18 17:17:08.963 +05:30 [INF] Updating booking with ID 2.
2025-06-18 17:17:08.966 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."IsDeleted", b."SlotId", b."Status", b."UserId", b."VehicleId", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year"
FROM "Bookings" AS b
INNER JOIN "Users" AS u ON b."UserId" = u."Id"
INNER JOIN "ServiceSlots" AS s ON b."SlotId" = s."Id"
INNER JOIN "Vehicles" AS v ON b."VehicleId" = v."Id"
WHERE b."Id" = @__id_0
LIMIT 1
2025-06-18 17:17:08.971 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Bookings" SET "IsDeleted" = @p0, "SlotId" = @p1, "Status" = @p2, "UserId" = @p3, "VehicleId" = @p4
WHERE "Id" = @p5;
2025-06-18 17:17:08.972 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:17:08.973 +05:30 [INF] Booking with ID 2 updated.
2025-06-18 17:17:08.973 +05:30 [INF] Executing OkObjectResult, writing value of type 'VehicleServiceAPI.Models.DTOs.BookingDTO'.
2025-06-18 17:17:08.973 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.BookingController.UpdateBooking (VehicleServiceAPI) in 17.3047ms
2025-06-18 17:17:08.973 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.BookingController.UpdateBooking (VehicleServiceAPI)'
2025-06-18 17:17:08.974 +05:30 [INF] HTTP PUT /api/v1/Booking/2 responded 200 in 21.3435 ms
2025-06-18 17:17:08.974 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5192/api/v1/Booking/2 - 200 null application/json; charset=utf-8 23.8738ms
2025-06-18 17:18:00.021 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5192/api/v1/Booking/2 - application/json 20
2025-06-18 17:18:00.022 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.BookingController.UpdateBooking (VehicleServiceAPI)'
2025-06-18 17:18:00.022 +05:30 [INF] Route matched with {action = "UpdateBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[VehicleServiceAPI.Models.DTOs.BookingDTO]] UpdateBooking(Int32, VehicleServiceAPI.Models.DTOs.UpdateBookingDTO) on controller VehicleServiceAPI.Controllers.BookingController (VehicleServiceAPI).
2025-06-18 17:18:00.023 +05:30 [INF] Updating booking with ID 2.
2025-06-18 17:18:00.024 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."IsDeleted", b."SlotId", b."Status", b."UserId", b."VehicleId", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year"
FROM "Bookings" AS b
INNER JOIN "Users" AS u ON b."UserId" = u."Id"
INNER JOIN "ServiceSlots" AS s ON b."SlotId" = s."Id"
INNER JOIN "Vehicles" AS v ON b."VehicleId" = v."Id"
WHERE b."Id" = @__id_0
LIMIT 1
2025-06-18 17:18:00.025 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Bookings" SET "IsDeleted" = @p0, "SlotId" = @p1, "Status" = @p2, "UserId" = @p3, "VehicleId" = @p4
WHERE "Id" = @p5;
2025-06-18 17:18:00.026 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:18:00.027 +05:30 [INF] Booking with ID 2 updated.
2025-06-18 17:18:00.027 +05:30 [INF] Executing OkObjectResult, writing value of type 'VehicleServiceAPI.Models.DTOs.BookingDTO'.
2025-06-18 17:18:00.027 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.BookingController.UpdateBooking (VehicleServiceAPI) in 4.9324ms
2025-06-18 17:18:00.027 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.BookingController.UpdateBooking (VehicleServiceAPI)'
2025-06-18 17:18:00.027 +05:30 [INF] HTTP PUT /api/v1/Booking/2 responded 200 in 5.4213 ms
2025-06-18 17:18:00.028 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5192/api/v1/Booking/2 - 200 null application/json; charset=utf-8 7.0045ms
2025-06-18 17:18:19.127 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5192/api/v1/Booking/2 - application/json 20
2025-06-18 17:18:19.129 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Mechanic)
2025-06-18 17:18:19.130 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2025-06-18 17:18:19.130 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5192/api/v1/Booking/2 - 403 0 null 3.7447ms
2025-06-18 17:18:36.214 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5192/api/v1/Booking/2 - application/json 23
2025-06-18 17:18:36.215 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Mechanic)
2025-06-18 17:18:36.215 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2025-06-18 17:18:36.215 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5192/api/v1/Booking/2 - 403 0 null 0.9241ms
2025-06-18 17:18:57.631 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Booking/2 - null null
2025-06-18 17:18:57.631 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.BookingController.GetBookingById (VehicleServiceAPI)'
2025-06-18 17:18:57.634 +05:30 [INF] Route matched with {action = "GetBookingById", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[VehicleServiceAPI.Models.DTOs.BookingDTO]] GetBookingById(Int32) on controller VehicleServiceAPI.Controllers.BookingController (VehicleServiceAPI).
2025-06-18 17:18:57.636 +05:30 [INF] Getting booking by ID: 2
2025-06-18 17:18:57.639 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."IsDeleted", b."SlotId", b."Status", b."UserId", b."VehicleId", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year"
FROM "Bookings" AS b
INNER JOIN "Users" AS u ON b."UserId" = u."Id"
INNER JOIN "ServiceSlots" AS s ON b."SlotId" = s."Id"
INNER JOIN "Vehicles" AS v ON b."VehicleId" = v."Id"
WHERE b."Id" = @__id_0
LIMIT 1
2025-06-18 17:18:57.641 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:18:57.642 +05:30 [INF] Booking with ID 2 retrieved.
2025-06-18 17:18:57.642 +05:30 [INF] Executing OkObjectResult, writing value of type 'VehicleServiceAPI.Models.DTOs.BookingDTO'.
2025-06-18 17:18:57.642 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.BookingController.GetBookingById (VehicleServiceAPI) in 7.586ms
2025-06-18 17:18:57.642 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.BookingController.GetBookingById (VehicleServiceAPI)'
2025-06-18 17:18:57.642 +05:30 [INF] HTTP GET /api/v1/Booking/2 responded 200 in 11.2375 ms
2025-06-18 17:18:57.643 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Booking/2 - 200 null application/json; charset=utf-8 12.1202ms
2025-06-18 17:19:27.868 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5192/api/v1/Booking/2 - application/json 28
2025-06-18 17:19:27.868 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.BookingController.UpdateBooking (VehicleServiceAPI)'
2025-06-18 17:19:27.868 +05:30 [INF] Route matched with {action = "UpdateBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[VehicleServiceAPI.Models.DTOs.BookingDTO]] UpdateBooking(Int32, VehicleServiceAPI.Models.DTOs.UpdateBookingDTO) on controller VehicleServiceAPI.Controllers.BookingController (VehicleServiceAPI).
2025-06-18 17:19:27.869 +05:30 [INF] Updating booking with ID 2.
2025-06-18 17:19:27.871 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."IsDeleted", b."SlotId", b."Status", b."UserId", b."VehicleId", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year"
FROM "Bookings" AS b
INNER JOIN "Users" AS u ON b."UserId" = u."Id"
INNER JOIN "ServiceSlots" AS s ON b."SlotId" = s."Id"
INNER JOIN "Vehicles" AS v ON b."VehicleId" = v."Id"
WHERE b."Id" = @__id_0
LIMIT 1
2025-06-18 17:19:27.874 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Bookings" SET "IsDeleted" = @p0, "SlotId" = @p1, "Status" = @p2, "UserId" = @p3, "VehicleId" = @p4
WHERE "Id" = @p5;
2025-06-18 17:19:27.875 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:19:27.876 +05:30 [INF] Booking with ID 2 updated.
2025-06-18 17:19:27.876 +05:30 [INF] Executing OkObjectResult, writing value of type 'VehicleServiceAPI.Models.DTOs.BookingDTO'.
2025-06-18 17:19:27.876 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.BookingController.UpdateBooking (VehicleServiceAPI) in 8.0186ms
2025-06-18 17:19:27.877 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.BookingController.UpdateBooking (VehicleServiceAPI)'
2025-06-18 17:19:27.877 +05:30 [INF] HTTP PUT /api/v1/Booking/2 responded 200 in 8.6778 ms
2025-06-18 17:19:27.877 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5192/api/v1/Booking/2 - 200 null application/json; charset=utf-8 9.6095ms
2025-06-18 17:19:59.237 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5192/api/v1/Invoice - application/json 66
2025-06-18 17:19:59.238 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.InvoiceController.CreateInvoice (VehicleServiceAPI)'
2025-06-18 17:19:59.241 +05:30 [INF] Route matched with {action = "CreateInvoice", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[VehicleServiceAPI.Models.DTOs.InvoiceDTO]] CreateInvoice(VehicleServiceAPI.Models.DTOs.CreateInvoiceDTO) on controller VehicleServiceAPI.Controllers.InvoiceController (VehicleServiceAPI).
2025-06-18 17:19:59.250 +05:30 [INF] Creating a new invoice for booking ID: 2
2025-06-18 17:19:59.254 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."IsDeleted", b."SlotId", b."Status", b."UserId", b."VehicleId", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year"
FROM "Bookings" AS b
INNER JOIN "Users" AS u ON b."UserId" = u."Id"
INNER JOIN "ServiceSlots" AS s ON b."SlotId" = s."Id"
INNER JOIN "Vehicles" AS v ON b."VehicleId" = v."Id"
WHERE b."Id" = @__id_0
LIMIT 1
2025-06-18 17:19:59.287 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Invoices" ("Amount", "BookingId", "IsDeleted", "ServiceDetails")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-06-18 17:19:59.292 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:19:59.294 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "ServiceSlots" AS s
INNER JOIN "Users" AS u ON s."MechanicID" = u."Id"
WHERE s."Id" = @__id_0
LIMIT 1
2025-06-18 17:19:59.295 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:19:59.296 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "Vehicles" AS v
INNER JOIN "Users" AS u ON v."OwnerId" = u."Id"
WHERE v."Id" = @__id_0
LIMIT 1
2025-06-18 17:19:59.298 +05:30 [INF] Invoice created with ID: 1
2025-06-18 17:19:59.298 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'VehicleServiceAPI.Models.DTOs.InvoiceDTO'.
2025-06-18 17:19:59.304 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.InvoiceController.CreateInvoice (VehicleServiceAPI) in 62.8831ms
2025-06-18 17:19:59.304 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.InvoiceController.CreateInvoice (VehicleServiceAPI)'
2025-06-18 17:19:59.305 +05:30 [INF] HTTP POST /api/v1/Invoice responded 201 in 67.0952 ms
2025-06-18 17:19:59.305 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5192/api/v1/Invoice - 201 null application/json; charset=utf-8 68.1755ms
2025-06-18 17:20:45.629 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/available - null null
2025-06-18 17:20:45.630 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetAvailableSlots (VehicleServiceAPI)'
2025-06-18 17:20:45.634 +05:30 [INF] Route matched with {action = "GetAvailableSlots", controller = "ServiceSlot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.ServiceSlotDTO]]] GetAvailableSlots() on controller VehicleServiceAPI.Controllers.ServiceSlotController (VehicleServiceAPI).
2025-06-18 17:20:45.636 +05:30 [INF] Getting available service slots
2025-06-18 17:20:45.666 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "ServiceSlots" AS s
INNER JOIN "Users" AS u ON s."MechanicID" = u."Id"
WHERE s."Status" = 'available' AND NOT (s."IsDeleted")
2025-06-18 17:20:45.671 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:20:45.672 +05:30 [INF] Executing OkObjectResult, writing value of type 'VehicleServiceAPI.Models.DTOs.ServiceSlotDTO[]'.
2025-06-18 17:20:45.675 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.ServiceSlotController.GetAvailableSlots (VehicleServiceAPI) in 40.9442ms
2025-06-18 17:20:45.675 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetAvailableSlots (VehicleServiceAPI)'
2025-06-18 17:20:45.676 +05:30 [INF] HTTP GET /api/v1/ServiceSlot/available responded 200 in 45.3979 ms
2025-06-18 17:20:45.676 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/available - 200 null application/json; charset=utf-8 46.4483ms
2025-06-18 17:21:00.364 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/mechanic/1 - null null
2025-06-18 17:21:00.366 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetSlotsByMechanicId (VehicleServiceAPI)'
2025-06-18 17:21:00.369 +05:30 [INF] Route matched with {action = "GetSlotsByMechanicId", controller = "ServiceSlot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.ServiceSlotDTO]]] GetSlotsByMechanicId(Int32) on controller VehicleServiceAPI.Controllers.ServiceSlotController (VehicleServiceAPI).
2025-06-18 17:21:00.371 +05:30 [INF] Getting service slots for mechanic 1
2025-06-18 17:21:00.381 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__mechanicId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status"
FROM "ServiceSlots" AS s
WHERE s."MechanicID" = @__mechanicId_0 AND NOT (s."IsDeleted")
2025-06-18 17:21:00.383 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'VehicleServiceAPI.Context.VehicleServiceDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-18 17:21:00.383 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:21:00.384 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:21:00.385 +05:30 [WRN] Service slots not found for mechanic 1
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at VehicleServiceAPI.Repositories.UserRepository.GetByIdAsync(Int32 id) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Repositories/UserRepository.cs:line 14
   at VehicleServiceAPI.Services.ServiceSlotService.MapServiceSlotToDto(ServiceSlot serviceSlot) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/ServiceSlotServices.cs:line 107
   at VehicleServiceAPI.Services.ServiceSlotService.GetSlotsByMechanicIdAsync(Int32 mechanicId) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/ServiceSlotServices.cs:line 98
   at VehicleServiceAPI.Controllers.ServiceSlotController.GetSlotsByMechanicId(Int32 mechanicId) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Controllers/ServiceSlotController.cs:line 216
2025-06-18 17:21:00.387 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-18 17:21:00.387 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.ServiceSlotController.GetSlotsByMechanicId (VehicleServiceAPI) in 17.4656ms
2025-06-18 17:21:00.387 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetSlotsByMechanicId (VehicleServiceAPI)'
2025-06-18 17:21:00.387 +05:30 [INF] HTTP GET /api/v1/ServiceSlot/mechanic/1 responded 404 in 21.3092 ms
2025-06-18 17:21:00.387 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/mechanic/1 - 404 null application/json; charset=utf-8 22.9527ms
2025-06-18 17:21:05.918 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/available - null null
2025-06-18 17:21:05.919 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetAvailableSlots (VehicleServiceAPI)'
2025-06-18 17:21:05.919 +05:30 [INF] Route matched with {action = "GetAvailableSlots", controller = "ServiceSlot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.ServiceSlotDTO]]] GetAvailableSlots() on controller VehicleServiceAPI.Controllers.ServiceSlotController (VehicleServiceAPI).
2025-06-18 17:21:05.920 +05:30 [INF] Getting available service slots
2025-06-18 17:21:05.922 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "ServiceSlots" AS s
INNER JOIN "Users" AS u ON s."MechanicID" = u."Id"
WHERE s."Status" = 'available' AND NOT (s."IsDeleted")
2025-06-18 17:21:05.923 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:21:05.923 +05:30 [INF] Executing OkObjectResult, writing value of type 'VehicleServiceAPI.Models.DTOs.ServiceSlotDTO[]'.
2025-06-18 17:21:05.923 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.ServiceSlotController.GetAvailableSlots (VehicleServiceAPI) in 4.4296ms
2025-06-18 17:21:05.923 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetAvailableSlots (VehicleServiceAPI)'
2025-06-18 17:21:05.924 +05:30 [INF] HTTP GET /api/v1/ServiceSlot/available responded 200 in 5.2484 ms
2025-06-18 17:21:05.924 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/available - 200 null application/json; charset=utf-8 6.0482ms
2025-06-18 17:26:00.604 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Vehicle/user - null null
2025-06-18 17:26:00.606 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.VehicleController.GetAllVehiclesByUser (VehicleServiceAPI)'
2025-06-18 17:26:00.606 +05:30 [INF] Route matched with {action = "GetAllVehiclesByUser", controller = "Vehicle"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.VehicleDTO]]] GetAllVehiclesByUser() on controller VehicleServiceAPI.Controllers.VehicleController (VehicleServiceAPI).
2025-06-18 17:26:00.607 +05:30 [INF] Getting vehicles for current user
2025-06-18 17:26:00.627 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "Vehicles" AS v
INNER JOIN "Users" AS u ON v."OwnerId" = u."Id"
WHERE v."OwnerId" = @__userId_0
2025-06-18 17:26:00.628 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'VehicleServiceAPI.Context.VehicleServiceDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-18 17:26:00.629 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:26:00.629 +05:30 [WRN] Invalid operation in GetAllVehiclesByUser
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at VehicleServiceAPI.Repositories.UserRepository.GetByIdAsync(Int32 id) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Repositories/UserRepository.cs:line 14
   at VehicleServiceAPI.Services.VehicleService.MapVehicleToDto(Vehicle vehicle) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/VehicleServices.cs:line 100
   at VehicleServiceAPI.Services.VehicleService.GetVehicleByUserAsync(Int32 userId) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/VehicleServices.cs:line 32
   at VehicleServiceAPI.Controllers.VehicleController.GetAllVehiclesByUser() in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Controllers/VehicleController.cs:line 70
2025-06-18 17:26:00.631 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-18 17:26:00.631 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.VehicleController.GetAllVehiclesByUser (VehicleServiceAPI) in 25.1803ms
2025-06-18 17:26:00.631 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.VehicleController.GetAllVehiclesByUser (VehicleServiceAPI)'
2025-06-18 17:26:00.632 +05:30 [INF] HTTP GET /api/v1/Vehicle/user responded 404 in 26.0870 ms
2025-06-18 17:26:00.632 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Vehicle/user - 404 null application/json; charset=utf-8 28.3501ms
2025-06-18 17:26:10.394 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Vehicle - null null
2025-06-18 17:26:10.395 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.VehicleController.GetAllVehicles (VehicleServiceAPI)'
2025-06-18 17:26:10.398 +05:30 [INF] Route matched with {action = "GetAllVehicles", controller = "Vehicle"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.VehicleDTO]]] GetAllVehicles() on controller VehicleServiceAPI.Controllers.VehicleController (VehicleServiceAPI).
2025-06-18 17:26:10.400 +05:30 [INF] Getting all vehicles (AdminOnly)
2025-06-18 17:26:10.409 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "Vehicles" AS v
INNER JOIN "Users" AS u ON v."OwnerId" = u."Id"
2025-06-18 17:26:10.411 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:26:10.411 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:26:10.412 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:26:10.413 +05:30 [INF] Retrieved 3 vehicles
2025-06-18 17:26:10.413 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[VehicleServiceAPI.Models.DTOs.VehicleDTO, VehicleServiceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-18 17:26:10.416 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.VehicleController.GetAllVehicles (VehicleServiceAPI) in 17.4217ms
2025-06-18 17:26:10.416 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.VehicleController.GetAllVehicles (VehicleServiceAPI)'
2025-06-18 17:26:10.416 +05:30 [INF] HTTP GET /api/v1/Vehicle responded 200 in 21.1779 ms
2025-06-18 17:26:10.416 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Vehicle - 200 null application/json; charset=utf-8 22.2034ms
2025-06-18 17:27:08.387 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Vehicle - null null
2025-06-18 17:27:08.388 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.VehicleController.GetAllVehicles (VehicleServiceAPI)'
2025-06-18 17:27:08.388 +05:30 [INF] Route matched with {action = "GetAllVehicles", controller = "Vehicle"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.VehicleDTO]]] GetAllVehicles() on controller VehicleServiceAPI.Controllers.VehicleController (VehicleServiceAPI).
2025-06-18 17:27:08.388 +05:30 [INF] Getting all vehicles (AdminOnly)
2025-06-18 17:27:08.390 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "Vehicles" AS v
INNER JOIN "Users" AS u ON v."OwnerId" = u."Id"
2025-06-18 17:27:08.391 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:27:08.391 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:27:08.392 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-18 17:27:08.392 +05:30 [INF] Retrieved 3 vehicles
2025-06-18 17:27:08.392 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[VehicleServiceAPI.Models.DTOs.VehicleDTO, VehicleServiceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-18 17:27:08.392 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.VehicleController.GetAllVehicles (VehicleServiceAPI) in 4.1394ms
2025-06-18 17:27:08.393 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.VehicleController.GetAllVehicles (VehicleServiceAPI)'
2025-06-18 17:27:08.393 +05:30 [INF] HTTP GET /api/v1/Vehicle responded 200 in 4.7064 ms
2025-06-18 17:27:08.393 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Vehicle - 200 null application/json; charset=utf-8 6.3353ms
