2025-06-20 16:01:25.572 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-20 16:01:25.892 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-20 16:01:25.900 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-20 16:01:25.902 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-20 16:01:25.903 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-20 16:01:25.906 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-06-20 16:01:26.025 +05:30 [INF] User profile is available. Using '/Users/yugendransunder/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-20 16:01:26.109 +05:30 [INF] Now listening on: http://localhost:5192
2025-06-20 16:01:26.110 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-20 16:01:26.110 +05:30 [INF] Hosting environment: Development
2025-06-20 16:01:26.110 +05:30 [INF] Content root path: /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI
2025-06-20 16:01:53.114 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5192/api/v1/Auth/login - application/json 55
2025-06-20 16:01:53.155 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-20 16:01:53.223 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.AuthController.Login (VehicleServiceAPI)'
2025-06-20 16:01:53.238 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(VehicleServiceAPI.Models.DTOs.LoginRequestDTO) on controller VehicleServiceAPI.Controllers.AuthController (VehicleServiceAPI).
2025-06-20 16:01:53.279 +05:30 [INF] Attempting to authenticate user with email: user@xyz.com
2025-06-20 16:01:53.709 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-20 16:01:53.801 +05:30 [INF] User authenticated successfully: user@xyz.com
2025-06-20 16:01:53.807 +05:30 [INF] Executing OkObjectResult, writing value of type 'VehicleServiceAPI.Models.DTOs.LoginResponseDTO'.
2025-06-20 16:01:53.817 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.AuthController.Login (VehicleServiceAPI) in 573.9301ms
2025-06-20 16:01:53.824 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.AuthController.Login (VehicleServiceAPI)'
2025-06-20 16:01:53.827 +05:30 [INF] HTTP POST /api/v1/Auth/login responded 200 in 603.0396 ms
2025-06-20 16:01:53.837 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5192/api/v1/Auth/login - 200 null application/json; charset=utf-8 724.6501ms
2025-06-20 16:02:21.365 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Vehicle/user - null null
2025-06-20 16:02:21.420 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.VehicleController.GetAllVehiclesByUser (VehicleServiceAPI)'
2025-06-20 16:02:21.424 +05:30 [INF] Route matched with {action = "GetAllVehiclesByUser", controller = "Vehicle"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.VehicleDTO]]] GetAllVehiclesByUser() on controller VehicleServiceAPI.Controllers.VehicleController (VehicleServiceAPI).
2025-06-20 16:02:21.429 +05:30 [INF] Getting vehicles for current user
2025-06-20 16:02:21.506 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "Vehicles" AS v
INNER JOIN "Users" AS u ON v."OwnerId" = u."Id"
WHERE v."OwnerId" = @__userId_0
2025-06-20 16:02:21.535 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:02:21.541 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:02:21.541 +05:30 [INF] User 4 retrieved 2 vehicles
2025-06-20 16:02:21.543 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[VehicleServiceAPI.Models.DTOs.VehicleDTO, VehicleServiceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 16:02:21.552 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.VehicleController.GetAllVehiclesByUser (VehicleServiceAPI) in 127.4924ms
2025-06-20 16:02:21.553 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.VehicleController.GetAllVehiclesByUser (VehicleServiceAPI)'
2025-06-20 16:02:21.553 +05:30 [INF] HTTP GET /api/v1/Vehicle/user responded 200 in 132.8821 ms
2025-06-20 16:02:21.553 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Vehicle/user - 200 null application/json; charset=utf-8 188.3811ms
2025-06-20 16:02:33.670 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/available - null null
2025-06-20 16:02:33.675 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetAvailableSlots (VehicleServiceAPI)'
2025-06-20 16:02:33.678 +05:30 [INF] Route matched with {action = "GetAvailableSlots", controller = "ServiceSlot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.ServiceSlotDTO]]] GetAvailableSlots() on controller VehicleServiceAPI.Controllers.ServiceSlotController (VehicleServiceAPI).
2025-06-20 16:02:33.679 +05:30 [INF] Getting available service slots
2025-06-20 16:02:33.697 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "ServiceSlots" AS s
INNER JOIN "Users" AS u ON s."MechanicID" = u."Id"
WHERE s."Status" = 'available' AND NOT (s."IsDeleted")
2025-06-20 16:02:33.719 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:02:33.721 +05:30 [INF] Executing OkObjectResult, writing value of type 'VehicleServiceAPI.Models.DTOs.ServiceSlotDTO[]'.
2025-06-20 16:02:33.727 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.ServiceSlotController.GetAvailableSlots (VehicleServiceAPI) in 49.3177ms
2025-06-20 16:02:33.728 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetAvailableSlots (VehicleServiceAPI)'
2025-06-20 16:02:33.728 +05:30 [INF] HTTP GET /api/v1/ServiceSlot/available responded 200 in 53.5204 ms
2025-06-20 16:02:33.729 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/available - 200 null application/json; charset=utf-8 58.7607ms
2025-06-20 16:02:40.009 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/mechanic/1 - null null
2025-06-20 16:02:40.012 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/18/2025 12:28:54 PM', Current time (UTC): '6/20/2025 10:32:40 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-20 16:02:40.039 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/18/2025 12:28:54 PM', Current time (UTC): '6/20/2025 10:32:40 AM'.
2025-06-20 16:02:40.041 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Mechanic|User)
2025-06-20 16:02:40.045 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-20 16:02:40.045 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/mechanic/1 - 401 0 null 35.953ms
2025-06-20 16:02:57.666 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/mechanic/1 - null null
2025-06-20 16:02:57.667 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetSlotsByMechanicId (VehicleServiceAPI)'
2025-06-20 16:02:57.670 +05:30 [INF] Route matched with {action = "GetSlotsByMechanicId", controller = "ServiceSlot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.ServiceSlotDTO]]] GetSlotsByMechanicId(Int32) on controller VehicleServiceAPI.Controllers.ServiceSlotController (VehicleServiceAPI).
2025-06-20 16:02:57.673 +05:30 [INF] Getting service slots for mechanic 1
2025-06-20 16:02:57.683 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__mechanicId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status"
FROM "ServiceSlots" AS s
WHERE s."MechanicID" = @__mechanicId_0 AND NOT (s."IsDeleted")
2025-06-20 16:02:57.685 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:02:57.692 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'VehicleServiceAPI.Context.VehicleServiceDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-20 16:02:57.694 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:02:57.695 +05:30 [WRN] Service slots not found for mechanic 1
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at VehicleServiceAPI.Repositories.UserRepository.GetByIdAsync(Int32 id) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Repositories/UserRepository.cs:line 14
   at VehicleServiceAPI.Services.ServiceSlotService.MapServiceSlotToDto(ServiceSlot serviceSlot) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/ServiceSlotServices.cs:line 107
   at VehicleServiceAPI.Services.ServiceSlotService.GetSlotsByMechanicIdAsync(Int32 mechanicId) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/ServiceSlotServices.cs:line 98
   at VehicleServiceAPI.Controllers.ServiceSlotController.GetSlotsByMechanicId(Int32 mechanicId) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Controllers/ServiceSlotController.cs:line 216
2025-06-20 16:02:57.708 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 16:02:57.713 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.ServiceSlotController.GetSlotsByMechanicId (VehicleServiceAPI) in 42.6615ms
2025-06-20 16:02:57.713 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetSlotsByMechanicId (VehicleServiceAPI)'
2025-06-20 16:02:57.713 +05:30 [INF] HTTP GET /api/v1/ServiceSlot/mechanic/1 responded 404 in 46.7787 ms
2025-06-20 16:02:57.714 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/mechanic/1 - 404 null application/json; charset=utf-8 48.4868ms
2025-06-20 16:05:55.217 +05:30 [INF] Application is shutting down...
2025-06-20 16:06:05.734 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-20 16:06:06.040 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-20 16:06:06.048 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-20 16:06:06.049 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-20 16:06:06.051 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-20 16:06:06.056 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-06-20 16:06:06.148 +05:30 [INF] User profile is available. Using '/Users/yugendransunder/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-20 16:06:06.213 +05:30 [INF] Now listening on: http://localhost:5192
2025-06-20 16:06:06.214 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-20 16:06:06.214 +05:30 [INF] Hosting environment: Development
2025-06-20 16:06:06.214 +05:30 [INF] Content root path: /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI
2025-06-20 16:06:10.671 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/mechanic/1 - null null
2025-06-20 16:06:10.715 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-20 16:06:10.825 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetSlotsByMechanicId (VehicleServiceAPI)'
2025-06-20 16:06:10.839 +05:30 [INF] Route matched with {action = "GetSlotsByMechanicId", controller = "ServiceSlot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.ServiceSlotDTO]]] GetSlotsByMechanicId(Int32) on controller VehicleServiceAPI.Controllers.ServiceSlotController (VehicleServiceAPI).
2025-06-20 16:06:10.851 +05:30 [INF] Getting service slots for mechanic 1
2025-06-20 16:06:11.190 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[@__mechanicId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status"
FROM "ServiceSlots" AS s
WHERE s."MechanicID" = @__mechanicId_0 AND NOT (s."IsDeleted")
2025-06-20 16:06:11.337 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:06:11.385 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:06:11.387 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:06:11.395 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[VehicleServiceAPI.Models.DTOs.ServiceSlotDTO, VehicleServiceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 16:06:11.425 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.ServiceSlotController.GetSlotsByMechanicId (VehicleServiceAPI) in 582.89ms
2025-06-20 16:06:11.430 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetSlotsByMechanicId (VehicleServiceAPI)'
2025-06-20 16:06:11.433 +05:30 [INF] HTTP GET /api/v1/ServiceSlot/mechanic/1 responded 200 in 608.3726 ms
2025-06-20 16:06:11.442 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot/mechanic/1 - 200 null application/json; charset=utf-8 773.0802ms
2025-06-20 16:06:17.914 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot - null null
2025-06-20 16:06:17.923 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/18/2025 12:28:54 PM', Current time (UTC): '6/20/2025 10:36:17 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-20 16:06:17.934 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/18/2025 12:28:54 PM', Current time (UTC): '6/20/2025 10:36:17 AM'.
2025-06-20 16:06:17.936 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-20 16:06:17.943 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-20 16:06:17.943 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot - 401 0 null 29.0845ms
2025-06-20 16:06:25.524 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5192/api/v1/Auth/login - application/json 56
2025-06-20 16:06:25.528 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.AuthController.Login (VehicleServiceAPI)'
2025-06-20 16:06:25.534 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(VehicleServiceAPI.Models.DTOs.LoginRequestDTO) on controller VehicleServiceAPI.Controllers.AuthController (VehicleServiceAPI).
2025-06-20 16:06:25.556 +05:30 [INF] Attempting to authenticate user with email: admin@xyz.com
2025-06-20 16:06:25.744 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__email_0 AND NOT (u."IsDeleted")
LIMIT 1
2025-06-20 16:06:25.756 +05:30 [INF] User authenticated successfully: admin@xyz.com
2025-06-20 16:06:25.758 +05:30 [INF] Executing OkObjectResult, writing value of type 'VehicleServiceAPI.Models.DTOs.LoginResponseDTO'.
2025-06-20 16:06:25.759 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.AuthController.Login (VehicleServiceAPI) in 224.9475ms
2025-06-20 16:06:25.759 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.AuthController.Login (VehicleServiceAPI)'
2025-06-20 16:06:25.759 +05:30 [INF] HTTP POST /api/v1/Auth/login responded 200 in 231.8405 ms
2025-06-20 16:06:25.760 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5192/api/v1/Auth/login - 200 null application/json; charset=utf-8 235.6237ms
2025-06-20 16:06:42.064 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot - null null
2025-06-20 16:06:42.066 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetAllServiceSlots (VehicleServiceAPI)'
2025-06-20 16:06:42.069 +05:30 [INF] Route matched with {action = "GetAllServiceSlots", controller = "ServiceSlot"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.ServiceSlotDTO]]] GetAllServiceSlots() on controller VehicleServiceAPI.Controllers.ServiceSlotController (VehicleServiceAPI).
2025-06-20 16:06:42.071 +05:30 [INF] Getting all service slots
2025-06-20 16:06:42.091 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "ServiceSlots" AS s
INNER JOIN "Users" AS u ON s."MechanicID" = u."Id"
2025-06-20 16:06:42.094 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:06:42.096 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:06:42.097 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:06:42.097 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[VehicleServiceAPI.Models.DTOs.ServiceSlotDTO, VehicleServiceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 16:06:42.098 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.ServiceSlotController.GetAllServiceSlots (VehicleServiceAPI) in 28.727ms
2025-06-20 16:06:42.098 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.ServiceSlotController.GetAllServiceSlots (VehicleServiceAPI)'
2025-06-20 16:06:42.098 +05:30 [INF] HTTP GET /api/v1/ServiceSlot responded 200 in 32.2945 ms
2025-06-20 16:06:42.098 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/ServiceSlot - 200 null application/json; charset=utf-8 34.6701ms
2025-06-20 16:06:49.745 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Invoice/Booking/6 - null null
2025-06-20 16:06:49.746 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.InvoiceController.GetInvoicesByBookingId (VehicleServiceAPI)'
2025-06-20 16:06:49.750 +05:30 [INF] Route matched with {action = "GetInvoicesByBookingId", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.InvoiceDTO]]] GetInvoicesByBookingId(Int32) on controller VehicleServiceAPI.Controllers.InvoiceController (VehicleServiceAPI).
2025-06-20 16:06:49.752 +05:30 [INF] Getting invoices for booking ID: 6
2025-06-20 16:06:49.770 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__bookingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Amount", i."BookingId", i."IsDeleted", i."ServiceDetails", b."Id", b."IsDeleted", b."SlotId", b."Status", b."UserId", b."VehicleId"
FROM "Invoices" AS i
INNER JOIN "Bookings" AS b ON i."BookingId" = b."Id"
WHERE i."BookingId" = @__bookingId_0 AND NOT (i."IsDeleted")
2025-06-20 16:06:49.771 +05:30 [INF] Retrieved 0 invoices for booking ID: 6
2025-06-20 16:06:49.772 +05:30 [INF] Executing OkObjectResult, writing value of type 'VehicleServiceAPI.Models.DTOs.InvoiceDTO[]'.
2025-06-20 16:06:49.776 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.InvoiceController.GetInvoicesByBookingId (VehicleServiceAPI) in 25.987ms
2025-06-20 16:06:49.776 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.InvoiceController.GetInvoicesByBookingId (VehicleServiceAPI)'
2025-06-20 16:06:49.776 +05:30 [INF] HTTP GET /api/v1/Invoice/Booking/6 responded 200 in 29.7486 ms
2025-06-20 16:06:49.777 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Invoice/Booking/6 - 200 null application/json; charset=utf-8 31.233ms
2025-06-20 16:06:54.786 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Invoice - null null
2025-06-20 16:06:54.786 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.InvoiceController.GetAllInvoices (VehicleServiceAPI)'
2025-06-20 16:06:54.789 +05:30 [INF] Route matched with {action = "GetAllInvoices", controller = "Invoice"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.InvoiceDTO]]] GetAllInvoices() on controller VehicleServiceAPI.Controllers.InvoiceController (VehicleServiceAPI).
2025-06-20 16:06:54.791 +05:30 [INF] Getting all invoices.
2025-06-20 16:06:54.803 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Amount", i."BookingId", i."IsDeleted", i."ServiceDetails", b."Id", b."IsDeleted", b."SlotId", b."Status", b."UserId", b."VehicleId"
FROM "Invoices" AS i
INNER JOIN "Bookings" AS b ON i."BookingId" = b."Id"
2025-06-20 16:06:54.841 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:06:54.854 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "ServiceSlots" AS s
INNER JOIN "Users" AS u ON s."MechanicID" = u."Id"
WHERE s."Id" = @__id_0
LIMIT 1
2025-06-20 16:06:54.857 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:06:54.870 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "Vehicles" AS v
INNER JOIN "Users" AS u ON v."OwnerId" = u."Id"
WHERE v."Id" = @__id_0
LIMIT 1
2025-06-20 16:06:54.885 +05:30 [INF] Retrieved 1 invoices.
2025-06-20 16:06:54.886 +05:30 [INF] Executing OkObjectResult, writing value of type 'VehicleServiceAPI.Models.DTOs.InvoiceDTO[]'.
2025-06-20 16:06:54.890 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.InvoiceController.GetAllInvoices (VehicleServiceAPI) in 100.433ms
2025-06-20 16:06:54.890 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.InvoiceController.GetAllInvoices (VehicleServiceAPI)'
2025-06-20 16:06:54.890 +05:30 [INF] HTTP GET /api/v1/Invoice responded 200 in 103.9694 ms
2025-06-20 16:06:54.891 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Invoice - 200 null application/json; charset=utf-8 104.9978ms
2025-06-20 16:07:02.611 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Vehicle/user - null null
2025-06-20 16:07:02.612 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.VehicleController.GetAllVehiclesByUser (VehicleServiceAPI)'
2025-06-20 16:07:02.615 +05:30 [INF] Route matched with {action = "GetAllVehiclesByUser", controller = "Vehicle"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.VehicleDTO]]] GetAllVehiclesByUser() on controller VehicleServiceAPI.Controllers.VehicleController (VehicleServiceAPI).
2025-06-20 16:07:02.617 +05:30 [INF] Getting vehicles for current user
2025-06-20 16:07:02.642 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "Vehicles" AS v
INNER JOIN "Users" AS u ON v."OwnerId" = u."Id"
WHERE v."OwnerId" = @__userId_0
2025-06-20 16:07:02.645 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:07:02.647 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:07:02.647 +05:30 [INF] User 4 retrieved 2 vehicles
2025-06-20 16:07:02.648 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[VehicleServiceAPI.Models.DTOs.VehicleDTO, VehicleServiceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 16:07:02.650 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.VehicleController.GetAllVehiclesByUser (VehicleServiceAPI) in 34.8591ms
2025-06-20 16:07:02.651 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.VehicleController.GetAllVehiclesByUser (VehicleServiceAPI)'
2025-06-20 16:07:02.651 +05:30 [INF] HTTP GET /api/v1/Vehicle/user responded 200 in 38.1983 ms
2025-06-20 16:07:02.651 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Vehicle/user - 200 null application/json; charset=utf-8 39.9557ms
2025-06-20 16:07:11.281 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Booking/user - null null
2025-06-20 16:07:11.282 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.BookingController.GetBookingsByCurrentUser (VehicleServiceAPI)'
2025-06-20 16:07:11.284 +05:30 [INF] Route matched with {action = "GetBookingsByCurrentUser", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.BookingDTO]]] GetBookingsByCurrentUser() on controller VehicleServiceAPI.Controllers.BookingController (VehicleServiceAPI).
2025-06-20 16:07:11.286 +05:30 [INF] Getting bookings for user ID 4.
2025-06-20 16:07:11.305 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."IsDeleted", b."SlotId", b."Status", b."UserId", b."VehicleId", s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "Bookings" AS b
INNER JOIN "ServiceSlots" AS s ON b."SlotId" = s."Id"
INNER JOIN "Vehicles" AS v ON b."VehicleId" = v."Id"
INNER JOIN "Users" AS u ON b."UserId" = u."Id"
WHERE b."UserId" = @__userId_0
2025-06-20 16:07:11.309 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:07:11.310 +05:30 [INF] Retrieved 1 bookings for user ID 4.
2025-06-20 16:07:11.310 +05:30 [INF] Executing OkObjectResult, writing value of type 'VehicleServiceAPI.Models.DTOs.BookingDTO[]'.
2025-06-20 16:07:11.314 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.BookingController.GetBookingsByCurrentUser (VehicleServiceAPI) in 29.1472ms
2025-06-20 16:07:11.314 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.BookingController.GetBookingsByCurrentUser (VehicleServiceAPI)'
2025-06-20 16:07:11.314 +05:30 [INF] HTTP GET /api/v1/Booking/user responded 200 in 32.3764 ms
2025-06-20 16:07:11.314 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Booking/user - 200 null application/json; charset=utf-8 33.1749ms
2025-06-20 16:07:16.603 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Booking/status/pending - null null
2025-06-20 16:07:16.605 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.BookingController.GetBookingsByStatus (VehicleServiceAPI)'
2025-06-20 16:07:16.608 +05:30 [INF] Route matched with {action = "GetBookingsByStatus", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.BookingDTO]]] GetBookingsByStatus(System.String) on controller VehicleServiceAPI.Controllers.BookingController (VehicleServiceAPI).
2025-06-20 16:07:16.609 +05:30 [INF] Getting bookings by status: pending
2025-06-20 16:07:16.624 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__status_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."IsDeleted", b."SlotId", b."Status", b."UserId", b."VehicleId", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year"
FROM "Bookings" AS b
INNER JOIN "Users" AS u ON b."UserId" = u."Id"
INNER JOIN "ServiceSlots" AS s ON b."SlotId" = s."Id"
INNER JOIN "Vehicles" AS v ON b."VehicleId" = v."Id"
WHERE b."Status" = @__status_0
2025-06-20 16:07:16.625 +05:30 [INF] Retrieved 0 bookings with status pending.
2025-06-20 16:07:16.625 +05:30 [INF] Executing OkObjectResult, writing value of type 'VehicleServiceAPI.Models.DTOs.BookingDTO[]'.
2025-06-20 16:07:16.625 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.BookingController.GetBookingsByStatus (VehicleServiceAPI) in 17.3001ms
2025-06-20 16:07:16.625 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.BookingController.GetBookingsByStatus (VehicleServiceAPI)'
2025-06-20 16:07:16.625 +05:30 [INF] HTTP GET /api/v1/Booking/status/pending responded 200 in 20.5934 ms
2025-06-20 16:07:16.626 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Booking/status/pending - 200 null application/json; charset=utf-8 22.8455ms
2025-06-20 16:07:34.356 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Booking/status/completed - null null
2025-06-20 16:07:34.357 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.BookingController.GetBookingsByStatus (VehicleServiceAPI)'
2025-06-20 16:07:34.358 +05:30 [INF] Route matched with {action = "GetBookingsByStatus", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.BookingDTO]]] GetBookingsByStatus(System.String) on controller VehicleServiceAPI.Controllers.BookingController (VehicleServiceAPI).
2025-06-20 16:07:34.362 +05:30 [INF] Getting bookings by status: completed
2025-06-20 16:07:34.364 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__status_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."IsDeleted", b."SlotId", b."Status", b."UserId", b."VehicleId", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year"
FROM "Bookings" AS b
INNER JOIN "Users" AS u ON b."UserId" = u."Id"
INNER JOIN "ServiceSlots" AS s ON b."SlotId" = s."Id"
INNER JOIN "Vehicles" AS v ON b."VehicleId" = v."Id"
WHERE b."Status" = @__status_0
2025-06-20 16:07:34.366 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:07:34.371 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'VehicleServiceAPI.Context.VehicleServiceDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-20 16:07:34.372 +05:30 [ERR] Error retrieving bookings by status completed.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at VehicleServiceAPI.Repositories.UserRepository.GetByIdAsync(Int32 id) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Repositories/UserRepository.cs:line 14
   at VehicleServiceAPI.Services.BookingService.MapBookingToDto(Booking booking) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/BookingService.cs:line 111
   at VehicleServiceAPI.Services.BookingService.GetBookingsByStatusAsync(String status) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/BookingService.cs:line 101
   at VehicleServiceAPI.Controllers.BookingController.GetBookingsByStatus(String status) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Controllers/BookingController.cs:line 220
2025-06-20 16:07:34.379 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 16:07:34.382 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.BookingController.GetBookingsByStatus (VehicleServiceAPI) in 24.7516ms
2025-06-20 16:07:34.383 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.BookingController.GetBookingsByStatus (VehicleServiceAPI)'
2025-06-20 16:07:34.383 +05:30 [INF] HTTP GET /api/v1/Booking/status/completed responded 400 in 25.3117 ms
2025-06-20 16:07:34.383 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Booking/status/completed - 400 null application/json; charset=utf-8 26.9865ms
2025-06-20 16:08:48.741 +05:30 [INF] Application is shutting down...
2025-06-20 16:09:02.778 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-20 16:09:03.076 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-20 16:09:03.083 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-20 16:09:03.084 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-20 16:09:03.085 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-20 16:09:03.089 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-06-20 16:09:03.189 +05:30 [INF] User profile is available. Using '/Users/yugendransunder/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-20 16:09:03.250 +05:30 [INF] Now listening on: http://localhost:5192
2025-06-20 16:09:03.252 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-20 16:09:03.252 +05:30 [INF] Hosting environment: Development
2025-06-20 16:09:03.252 +05:30 [INF] Content root path: /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI
2025-06-20 16:09:13.333 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Booking/status/completed - null null
2025-06-20 16:09:13.375 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-20 16:09:13.473 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.BookingController.GetBookingsByStatus (VehicleServiceAPI)'
2025-06-20 16:09:13.490 +05:30 [INF] Route matched with {action = "GetBookingsByStatus", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.BookingDTO]]] GetBookingsByStatus(System.String) on controller VehicleServiceAPI.Controllers.BookingController (VehicleServiceAPI).
2025-06-20 16:09:13.502 +05:30 [INF] Getting bookings by status: completed
2025-06-20 16:09:13.878 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__status_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."IsDeleted", b."SlotId", b."Status", b."UserId", b."VehicleId", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year"
FROM "Bookings" AS b
INNER JOIN "Users" AS u ON b."UserId" = u."Id"
INNER JOIN "ServiceSlots" AS s ON b."SlotId" = s."Id"
INNER JOIN "Vehicles" AS v ON b."VehicleId" = v."Id"
WHERE b."Status" = @__status_0
2025-06-20 16:09:14.012 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:09:14.015 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'VehicleServiceAPI.Context.VehicleServiceDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-20 16:09:14.023 +05:30 [ERR] Error retrieving bookings by status completed.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at VehicleServiceAPI.Repositories.UserRepository.GetByIdAsync(Int32 id) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Repositories/UserRepository.cs:line 14
   at VehicleServiceAPI.Services.BookingService.MapBookingToDto(Booking booking) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/BookingService.cs:line 118
   at VehicleServiceAPI.Services.BookingService.GetBookingsByStatusAsync(String status) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/BookingService.cs:line 108
   at VehicleServiceAPI.Controllers.BookingController.GetBookingsByStatus(String status) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Controllers/BookingController.cs:line 220
2025-06-20 16:09:14.036 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 16:09:14.062 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.BookingController.GetBookingsByStatus (VehicleServiceAPI) in 568.0558ms
2025-06-20 16:09:14.067 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.BookingController.GetBookingsByStatus (VehicleServiceAPI)'
2025-06-20 16:09:14.070 +05:30 [INF] HTTP GET /api/v1/Booking/status/completed responded 400 in 598.1070 ms
2025-06-20 16:09:14.081 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Booking/status/completed - 400 null application/json; charset=utf-8 750.2242ms
2025-06-20 16:09:48.495 +05:30 [INF] Application is shutting down...
2025-06-20 16:10:02.145 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-20 16:10:02.442 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-20 16:10:02.450 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-20 16:10:02.451 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-20 16:10:02.451 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-20 16:10:02.455 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-06-20 16:10:02.557 +05:30 [INF] User profile is available. Using '/Users/yugendransunder/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-20 16:10:02.611 +05:30 [INF] Now listening on: http://localhost:5192
2025-06-20 16:10:02.613 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-20 16:10:02.613 +05:30 [INF] Hosting environment: Development
2025-06-20 16:10:02.613 +05:30 [INF] Content root path: /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI
2025-06-20 16:10:08.914 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Booking/status/completed - null null
2025-06-20 16:10:08.960 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-20 16:10:09.055 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.BookingController.GetBookingsByStatus (VehicleServiceAPI)'
2025-06-20 16:10:09.070 +05:30 [INF] Route matched with {action = "GetBookingsByStatus", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.BookingDTO]]] GetBookingsByStatus(System.String) on controller VehicleServiceAPI.Controllers.BookingController (VehicleServiceAPI).
2025-06-20 16:10:09.083 +05:30 [INF] Getting bookings by status: completed
2025-06-20 16:10:09.435 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__status_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."IsDeleted", b."SlotId", b."Status", b."UserId", b."VehicleId", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year"
FROM "Bookings" AS b
INNER JOIN "Users" AS u ON b."UserId" = u."Id"
INNER JOIN "ServiceSlots" AS s ON b."SlotId" = s."Id"
INNER JOIN "Vehicles" AS v ON b."VehicleId" = v."Id"
WHERE b."Status" = @__status_0
2025-06-20 16:10:09.542 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:10:09.552 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:10:09.553 +05:30 [INF] Retrieved 2 bookings with status completed.
2025-06-20 16:10:09.558 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[VehicleServiceAPI.Models.DTOs.BookingDTO, VehicleServiceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 16:10:09.585 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.BookingController.GetBookingsByStatus (VehicleServiceAPI) in 511.958ms
2025-06-20 16:10:09.589 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.BookingController.GetBookingsByStatus (VehicleServiceAPI)'
2025-06-20 16:10:09.592 +05:30 [INF] HTTP GET /api/v1/Booking/status/completed responded 200 in 536.8225 ms
2025-06-20 16:10:09.599 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Booking/status/completed - 200 null application/json; charset=utf-8 687.0081ms
2025-06-20 16:10:15.025 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Booking/user - null null
2025-06-20 16:10:15.033 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.BookingController.GetBookingsByCurrentUser (VehicleServiceAPI)'
2025-06-20 16:10:15.039 +05:30 [INF] Route matched with {action = "GetBookingsByCurrentUser", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.BookingDTO]]] GetBookingsByCurrentUser() on controller VehicleServiceAPI.Controllers.BookingController (VehicleServiceAPI).
2025-06-20 16:10:15.043 +05:30 [INF] Getting bookings for user ID 4.
2025-06-20 16:10:15.130 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."IsDeleted", b."SlotId", b."Status", b."UserId", b."VehicleId", s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId"
FROM "Bookings" AS b
INNER JOIN "ServiceSlots" AS s ON b."SlotId" = s."Id"
INNER JOIN "Vehicles" AS v ON b."VehicleId" = v."Id"
INNER JOIN "Users" AS u ON b."UserId" = u."Id"
WHERE b."UserId" = @__userId_0
2025-06-20 16:10:15.133 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:10:15.134 +05:30 [INF] Retrieved 1 bookings for user ID 4.
2025-06-20 16:10:15.135 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[VehicleServiceAPI.Models.DTOs.BookingDTO, VehicleServiceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 16:10:15.136 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.BookingController.GetBookingsByCurrentUser (VehicleServiceAPI) in 96.9423ms
2025-06-20 16:10:15.137 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.BookingController.GetBookingsByCurrentUser (VehicleServiceAPI)'
2025-06-20 16:10:15.137 +05:30 [INF] HTTP GET /api/v1/Booking/user responded 200 in 104.0534 ms
2025-06-20 16:10:15.137 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Booking/user - 200 null application/json; charset=utf-8 112.2016ms
2025-06-20 16:10:18.414 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Booking - null null
2025-06-20 16:10:18.418 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.BookingController.GetAllBookings (VehicleServiceAPI)'
2025-06-20 16:10:18.420 +05:30 [INF] Route matched with {action = "GetAllBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.BookingDTO]]] GetAllBookings() on controller VehicleServiceAPI.Controllers.BookingController (VehicleServiceAPI).
2025-06-20 16:10:18.425 +05:30 [INF] Getting all bookings (Admin access).
2025-06-20 16:10:18.440 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."IsDeleted", b."SlotId", b."Status", b."UserId", b."VehicleId", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year"
FROM "Bookings" AS b
INNER JOIN "Users" AS u ON b."UserId" = u."Id"
INNER JOIN "ServiceSlots" AS s ON b."SlotId" = s."Id"
INNER JOIN "Vehicles" AS v ON b."VehicleId" = v."Id"
2025-06-20 16:10:18.443 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:10:18.453 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'VehicleServiceAPI.Context.VehicleServiceDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-20 16:10:18.455 +05:30 [ERR] Error retrieving all bookings.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at VehicleServiceAPI.Repositories.UserRepository.GetByIdAsync(Int32 id) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Repositories/UserRepository.cs:line 14
   at VehicleServiceAPI.Services.BookingService.MapBookingToDto(Booking booking) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/BookingService.cs:line 125
   at VehicleServiceAPI.Services.BookingService.GetAllBookingsAsync() in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/BookingService.cs:line 42
   at VehicleServiceAPI.Controllers.BookingController.GetAllBookings() in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Controllers/BookingController.cs:line 36
2025-06-20 16:10:18.460 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 16:10:18.465 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.BookingController.GetAllBookings (VehicleServiceAPI) in 44.775ms
2025-06-20 16:10:18.466 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.BookingController.GetAllBookings (VehicleServiceAPI)'
2025-06-20 16:10:18.466 +05:30 [INF] HTTP GET /api/v1/Booking responded 400 in 47.8236 ms
2025-06-20 16:10:18.466 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Booking - 400 null application/json; charset=utf-8 51.8562ms
2025-06-20 16:10:22.327 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Booking - null null
2025-06-20 16:10:22.328 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.BookingController.GetAllBookings (VehicleServiceAPI)'
2025-06-20 16:10:22.328 +05:30 [INF] Route matched with {action = "GetAllBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.BookingDTO]]] GetAllBookings() on controller VehicleServiceAPI.Controllers.BookingController (VehicleServiceAPI).
2025-06-20 16:10:22.328 +05:30 [INF] Getting all bookings (Admin access).
2025-06-20 16:10:22.330 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."IsDeleted", b."SlotId", b."Status", b."UserId", b."VehicleId", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year"
FROM "Bookings" AS b
INNER JOIN "Users" AS u ON b."UserId" = u."Id"
INNER JOIN "ServiceSlots" AS s ON b."SlotId" = s."Id"
INNER JOIN "Vehicles" AS v ON b."VehicleId" = v."Id"
2025-06-20 16:10:22.332 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'VehicleServiceAPI.Context.VehicleServiceDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-20 16:10:22.332 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:10:22.333 +05:30 [ERR] Error retrieving all bookings.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at VehicleServiceAPI.Repositories.UserRepository.GetByIdAsync(Int32 id) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Repositories/UserRepository.cs:line 14
   at VehicleServiceAPI.Services.BookingService.MapBookingToDto(Booking booking) in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/BookingService.cs:line 125
   at VehicleServiceAPI.Services.BookingService.GetAllBookingsAsync() in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Services/BookingService.cs:line 42
   at VehicleServiceAPI.Controllers.BookingController.GetAllBookings() in /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI/Controllers/BookingController.cs:line 36
2025-06-20 16:10:22.334 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 16:10:22.334 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.BookingController.GetAllBookings (VehicleServiceAPI) in 5.8604ms
2025-06-20 16:10:22.334 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.BookingController.GetAllBookings (VehicleServiceAPI)'
2025-06-20 16:10:22.334 +05:30 [INF] HTTP GET /api/v1/Booking responded 400 in 6.5700 ms
2025-06-20 16:10:22.335 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Booking - 400 null application/json; charset=utf-8 7.579ms
2025-06-20 16:10:36.005 +05:30 [INF] Application is shutting down...
2025-06-20 16:10:50.965 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-20 16:10:51.305 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-20 16:10:51.313 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-20 16:10:51.314 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-20 16:10:51.315 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-20 16:10:51.319 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-06-20 16:10:51.421 +05:30 [INF] User profile is available. Using '/Users/yugendransunder/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-20 16:10:51.482 +05:30 [INF] Now listening on: http://localhost:5192
2025-06-20 16:10:51.484 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-20 16:10:51.484 +05:30 [INF] Hosting environment: Development
2025-06-20 16:10:51.484 +05:30 [INF] Content root path: /Users/yugendransunder/Documents/Genspark-training/Genspark-Training/Day-25 06-06-2025 - WebAPI/VehicleServiceAPI
2025-06-20 16:10:54.788 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Booking - null null
2025-06-20 16:10:54.829 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-20 16:10:54.924 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.BookingController.GetAllBookings (VehicleServiceAPI)'
2025-06-20 16:10:54.935 +05:30 [INF] Route matched with {action = "GetAllBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.BookingDTO]]] GetAllBookings() on controller VehicleServiceAPI.Controllers.BookingController (VehicleServiceAPI).
2025-06-20 16:10:54.939 +05:30 [INF] Getting all bookings (Admin access).
2025-06-20 16:10:55.293 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."IsDeleted", b."SlotId", b."Status", b."UserId", b."VehicleId", u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", s."Id", s."IsDeleted", s."MechanicID", s."SlotDateTime", s."Status", v."Id", v."IsDeleted", v."Make", v."Model", v."OwnerId", v."RegistrationNumber", v."Year"
FROM "Bookings" AS b
INNER JOIN "Users" AS u ON b."UserId" = u."Id"
INNER JOIN "ServiceSlots" AS s ON b."SlotId" = s."Id"
INNER JOIN "Vehicles" AS v ON b."VehicleId" = v."Id"
2025-06-20 16:10:55.444 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:10:55.458 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Id" = @__id_0
LIMIT 1
2025-06-20 16:10:55.459 +05:30 [INF] Retrieved 2 bookings.
2025-06-20 16:10:55.465 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[VehicleServiceAPI.Models.DTOs.BookingDTO, VehicleServiceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 16:10:55.500 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.BookingController.GetAllBookings (VehicleServiceAPI) in 561.3984ms
2025-06-20 16:10:55.505 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.BookingController.GetAllBookings (VehicleServiceAPI)'
2025-06-20 16:10:55.507 +05:30 [INF] HTTP GET /api/v1/Booking responded 200 in 583.4309 ms
2025-06-20 16:10:55.517 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Booking - 200 null application/json; charset=utf-8 730.5214ms
2025-06-20 16:11:04.408 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/Role - null null
2025-06-20 16:11:04.412 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.RoleController.GetAllRoles (VehicleServiceAPI)'
2025-06-20 16:11:04.417 +05:30 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.RoleDTO]]] GetAllRoles() on controller VehicleServiceAPI.Controllers.RoleController (VehicleServiceAPI).
2025-06-20 16:11:04.420 +05:30 [INF] GetAllRoles called.
2025-06-20 16:11:04.487 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."RoleName"
FROM "Roles" AS r
2025-06-20 16:11:04.490 +05:30 [INF] Retrieved 3 roles.
2025-06-20 16:11:04.491 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[VehicleServiceAPI.Models.Role, VehicleServiceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[VehicleServiceAPI.Models.DTOs.RoleDTO, VehicleServiceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 16:11:04.495 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.RoleController.GetAllRoles (VehicleServiceAPI) in 77.8941ms
2025-06-20 16:11:04.495 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.RoleController.GetAllRoles (VehicleServiceAPI)'
2025-06-20 16:11:04.495 +05:30 [INF] HTTP GET /api/v1/Role responded 200 in 83.7195 ms
2025-06-20 16:11:04.496 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/Role - 200 null application/json; charset=utf-8 88.3097ms
2025-06-20 16:11:13.548 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5192/api/v1/User - null null
2025-06-20 16:11:13.553 +05:30 [INF] Executing endpoint 'VehicleServiceAPI.Controllers.UserController.GetAll (VehicleServiceAPI)'
2025-06-20 16:11:13.557 +05:30 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[VehicleServiceAPI.Models.DTOs.UserDTO]]] GetAll() on controller VehicleServiceAPI.Controllers.UserController (VehicleServiceAPI).
2025-06-20 16:11:13.559 +05:30 [INF] Admin requested all users.
2025-06-20 16:11:13.587 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."Phone", u."RoleId", r."Id", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."Id"
2025-06-20 16:11:13.589 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[VehicleServiceAPI.Models.User, VehicleServiceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[VehicleServiceAPI.Models.DTOs.UserDTO, VehicleServiceAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 16:11:13.593 +05:30 [INF] Executed action VehicleServiceAPI.Controllers.UserController.GetAll (VehicleServiceAPI) in 35.7995ms
2025-06-20 16:11:13.593 +05:30 [INF] Executed endpoint 'VehicleServiceAPI.Controllers.UserController.GetAll (VehicleServiceAPI)'
2025-06-20 16:11:13.593 +05:30 [INF] HTTP GET /api/v1/User responded 200 in 40.0845 ms
2025-06-20 16:11:13.594 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5192/api/v1/User - 200 null application/json; charset=utf-8 45.3688ms
2025-06-20 16:12:12.497 +05:30 [INF] Application is shutting down...
